library(haven)
data_cog <- read_sav("SPSS_STU_COG/COG/CY07_MSU_STU_COG.sav", n_max = 1000)
data_cog
View(data_cog)
data_cog %>% colnames()
library(tidyverse)
data_cog %>% colnames()
cols <- data_cog %>% colnames()
cols %>% str_detect('math')
cols %>% str_extract('math')
data_cog %>%
select(DS604Q04C)
test <-
data.frame(
a = rnorm(10),
b = rnorm(10),
c = rnorm(10),
a_div = 1:10,
b_div = 11:20,
c_div = 21:30
)
test
library(tidyverse)
test %>%
mutate(
across(
a:c,
)
)
l <- list(
f1 = function(x) x / a_div,
f2 = function(x) x / b_div,
f3 = function(x) x / c_div
)
test %>%
mutate(
across(
a:c,
l
)
)
l <- list(
f1 = function(x) x / test$a_div,
f2 = function(x) x / test$b_div,
f3 = function(x) x / test$c_div
)
test %>%
mutate(
across(
a:c,
l
)
)
test_a <-
tibble(
a = rnorm(10),
b = rnorm(10),
c = rnorm(10)
)
test_a <- tibble(
a = rnorm(10),
b = rnorm(10),
c = rnorm(10)
)
test_div <- tibble(
a_div = 1:10,
b_div = 11:20,
c_div = 21:30
)
map2_df(test_a, test_div, function(x,y) x / y)
test <-
data.frame(
a = rnorm(10),
b = rnorm(10),
c = rnorm(10),
a_div = 1:10,
b_div = 11:20,
c_div = 21:30
)
res <- test %>%
mutate(
a_m = a / a_div,
b_m = b / b_div,
c_m = c / c_div
)
res
map2_df(test_a, test_div, ~ x/y)
map2_df(test_a, test_div, function(x,y) x/y)
res_me <- map2_df(test_a, test_div, function(x,y) x/y)
res <- test %>%
mutate(
a_m = a / a_div,
b_m = b / b_div,
c_m = c / c_div
)
res
res_me <- map2(test_a, test_div, function(x,y) x/y)
res_me
res_me <- pmap_df(test_a, test_div, function(x,y) x/y)
division <- function(x,y) {x / y}
res_me <- map2(test_a, test_div, division)
res_me
res_me <- map2_df(test_a, test_div, division)
res_me
division <- function(x,y) { l <- x / y return(l)}
division <- function(x,y) {
l <- x / y
return(l)
}
res_me <- map2_df(test_a, test_div, division)
res_me
test_a <- list(
a = rnorm(10),
b = rnorm(10),
c = rnorm(10)
)
res_me <- map2(test_a, test_div, division)
res_me
test_a
reticulate::repl_python()
library(reticulate)
py_run_file(file = "the_paper/call_py_objects.py")
reticulate::use_condaenv("papyr2")
reticulate::use_condaenv("papyr2", required = T)
library(reticulate)
reticulate::use_condaenv("papyr2", required = T)
py_run_file(file = "the_paper/call_py_objects.py")
reticulate::repl_python()
