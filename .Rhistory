data %>%
group_by(CNT) %>%
count() %>%
add_row(c("TOT", 623))
data %>%
group_by(CNT) %>%
count() %>%
ungroup() %>%
add_row(c("TOT", 623))
data %>%
group_by(CNT) %>%
count()
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = name,
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_"),
metric = str_remove_all(metric, "_math"),
metric = str_remove_all(metric, "_read"),
metric = str_remove_all(metric, "_science")
)
data <- read_csv("../../data_ready/data_ready.csv") %>%
mutate(
across(
everything(),
function(x){
ifelse(is.infinite(x) == T, NA, x)
}
)
) %>%
na.omit() %>%
select(- ends_with("cog"))
read_csv("../../data_ready/data_ready.csv")
data <- #read_csv("../../data_ready/data_ready.csv") %>%
read_csv("data_ready/data_read.csv")
data <- #read_csv("../../data_ready/data_ready.csv") %>%
read_csv("/data_ready/data_read.csv")
data <- #read_csv("../../data_ready/data_ready.csv") %>%
read_csv("/data_ready/data_read.csv")
library(tidyverse)
library(tidyverse)
data <- #read_csv("../../data_ready/data_ready.csv") %>%
read_csv(file = "data_ready/data_ready.csv")
mutate(
across(
everything(),
function(x){
ifelse(is.infinite(x) == T, NA, x)
}
)
) %>%
na.omit() %>%
select(- ends_with("cog"))
data <- #read_csv("../../data_ready/data_ready.csv") %>%
read_csv(file = "data_ready/data_ready.csv") %>%
mutate(
across(
everything(),
function(x){
ifelse(is.infinite(x) == T, NA, x)
}
)
) %>%
na.omit() %>%
select(- ends_with("cog"))
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:8) %>%
mutate(
metric = name,
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_"),
metric = str_remove_all(metric, "_math"),
metric = str_remove_all(metric, "_read"),
metric = str_remove_all(metric, "_science")
) %>%
filter(
metric == "avg"
) %>%
ggplot()+
geom_density(
aes(
x = value,
fill = name
)
)+
facet_grid(CNT~name)
data %>%
select(
total_students,
ratio_f2m,
ratio_t2s,
ratio_ft2pt
)
data %>%
select(
total_students,
ratio_f2m,
ratio_s2t,
ratio_ft2pt
)
data %>%
select(
CNT,
total_students,
ratio_f2m,
ratio_s2t,
ratio_ft2pt
) %>%
pivot_longer(2:5) %>%
ggplot() +
geom_density(
aes(
x = value
)
) +
facet(CNT~name)
data %>%
select(
CNT,
total_students,
ratio_f2m,
ratio_s2t,
ratio_ft2pt
) %>%
pivot_longer(2:5) %>%
ggplot() +
geom_density(
aes(
x = value
)
) +
facet_grid(CNT~name)
data %>%
select(
CNT,
ratio_f2m,
ratio_s2t,
ratio_ft2pt
) %>%
pivot_longer(2:5) %>%
ggplot() +
geom_density(
aes(
x = value
)
) +
facet_grid(CNT~name)
data %>%
select(
CNT,
ratio_f2m,
ratio_s2t,
ratio_ft2pt
) %>%
pivot_longer(2:4) %>%
ggplot() +
geom_density(
aes(
x = value
)
) +
facet_grid(CNT~name)
data %>%
select(
CNT,
total_students,
ratio_f2m,
ratio_s2t,
ratio_ft2pt
) %>%
pivot_longer(2:5) %>%
ggplot() +
geom_density(
aes(
x = value
)
) +
facet_grid(CNT~name, scales = "free")
data %>%
select(
CNT,
total_students,
ratio_f2m,
ratio_s2t,
ratio_ft2pt
) %>%
pivot_longer(2:5) %>%
ggplot() +
geom_density(
aes(
x = value,
fill = name
)
) +
facet_grid(CNT~name, scales = "free")
data %>%
select(-CNTSCHID) %>%
group_by(CNT)
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:last())
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25)
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(., na.rm = T),
median = median(., na.rm = T),
min = min(., na.rm = T),
max = max(., na.rm = T)
)
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
)
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
pivot_wider(CNT, values_from = c(mean, median, min, max))
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
pivot_wider(CNT)
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value')
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
pivot_wider(CNT, metric)
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
pivot_wider(c(CNT, metric))
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
pivot_wider(name)
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
pivot_wider(name)
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
unite(c(CNT, metric))
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
unite(c("CNT", "metric"))
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value')
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
unite("spec", c(CNT, metirc))
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
unite("spec", c("CNT", "metirc"))
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
unite("spec", c("CNT", "metric"))
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
unite("spec", c("CNT", "metric")) %>%
pivot_wider(spec)
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
unite("spec", c("CNT", "metric")) %>%
pivot_wider(names_from = spec, values_from = vlaue)
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
unite("speci", c("CNT", "metric")) %>%
pivot_wider(names_from = "speci", values_from = "vlaue")
data %>%
select(-CNTSCHID) %>%
pivot_longer(2:25) %>%
group_by(CNT, name) %>%
summarise(
mean = mean(value, na.rm = T),
median = median(value, na.rm = T),
min = min(value, na.rm = T),
max = max(value, na.rm = T)
) %>%
ungroup() %>%
pivot_longer(mean:max, names_to = "metric", values_to = 'value') %>%
unite("speci", c("CNT", "metric")) %>%
pivot_wider(names_from = "speci", values_from = "value")
library(kableExtra)
data %>%
select(-CNTSCHID) %>%
group_by(CNT) %>%
summarise_at(
vars(bol_location:dropout_rate),
mean,
na.rm = T
) %>%
pivot_longer(
bol_location:dropout_rate
) %>%
pivot_wider(names_from = CNT) %>%
kableExtra::kable()
data %>%
select(-CNTSCHID) %>%
group_by(CNT) %>%
summarise_at(
vars(bol_location:dropout_rate),
median,
na.rm = T
) %>%
pivot_longer(
bol_location:dropout_rate
) %>%
pivot_wider(names_from = CNT) %>%
kableExtra::kable()
data %>%
select(-CNTSCHID) %>%
group_by(CNT) %>%
summarise_at(
vars(bol_location:dropout_rate),
mean,
na.rm = T
) %>%
pivot_longer(
bol_location:dropout_rate
) %>%
pivot_wider(names_from = CNT)
library(reticulate)
reticulate::use_condaenv("papyr2", required = T)
py_run_file(file = "the_paper/call_py_objects.py")
library(reticulate)
reticulate::use_condaenv("papyr2", required = T)
py_run_file(file = "modeling/call_py_objects.py")
py_run_file(file = "modeling/call_py_objects.py")
py_run_file(file = "modeling/call_py_objects.py")
py_run_file(file = "modeling/call_py_objects.py")
py_run_file(file = "modeling/call_py_objects.py")
py_run_file(file = "modeling/call_py_objects.py")
py_run_file(file = "modeling/call_py_objects.py")
reticulate::repl_python()
py_run_file(file = "modeling/call_py_objects.py")
reticulate::repl_python()
library(reticulate)
reticulate::use_condaenv("papyr2", required = T)
py_run_file(file = "the_paper/call_py_objects.py")
py_run_file(file = "modeling/call_py_objects.py")
all_res <- py$res_hun
reticulate::repl_python()
