) %>%
ggplot()+
geom_boxplot(
aes(
x = value
)
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg')
) %>%
pivot_longer(3:6) %>%
ggplot()+
geom_boxplot(
aes(
x = CNT
y = value
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg')
) %>%
pivot_longer(3:6) %>%
ggplot()+
geom_boxplot(
aes(
x = CNT,
y = value
)
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg')
) %>%
pivot_longer(3:6) %>%
ggplot()+
geom_boxplot(
aes(
x = CNT,
y = value,
color = name
)
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg')
) %>%
pivot_longer(3:6) %>%
ggplot()+
geom_boxplot(
aes(
x = CNT,
y = value,
fill = name
)
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg')
) %>%
pivot_longer(3:6) %>%
ggplot()+
geom_boxplot(
aes(
x = CNT,
y = value,
fill = name,
color = name
)
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg')
) %>%
pivot_longer(3:6) %>%
ggplot()+
geom_boxplot(
aes(
x = name,
y = value,
fill = name,
color = name
)
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg')
) %>%
pivot_longer(3:6) %>%
ggplot()+
geom_boxplot(
aes(
x = name,
y = value,
fill = name,
color = name
)
)+
facet_grid(~CNT)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg')
) %>%
pivot_longer(3:6) %>%
ggplot()+
geom_boxplot(
aes(
x = name,
y = value,
fill = name,
color = name
)
)+
facet_grid(~CNT, scales = "free_y")
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg')
) %>%
pivot_longer(3:6) %>%
ggplot()+
geom_boxplot(
aes(
x = name,
y = value,
fill = name,
color = name
)
)+
facet_grid(~CNT, scales = "free_x")
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg')
) %>%
pivot_longer(3:6) %>%
ggplot()+
geom_boxplot(
aes(
x = name,
y = value,
fill = name,
color = name
)
)+
facet_grid(~CNT)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
separate(name)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
separate(name, into = "type")
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
separate(name, into = "metric", remove = F)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = str_subset(name, 'avg_'),
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "avg_")
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = name,
metric = str_subset(name, 'avg_'),
metric = str_subset(name, 'med_'),
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_")
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = name,
# metric = str_subset(name, 'avg_'),
# metric = str_subset(name, 'med_'),
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_")
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = name,
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_"),
metric = str_remove_all(name, "_cog"),
metric = str_remove_all(name, "_math"),
metric = str_remove_all(name, "_read"),
metric = str_remove_all(name, "_science")
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = name,
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_"),
metric = str_remove_all(metric, "_cog"),
metric = str_remove_all(metric, "_math"),
metric = str_remove_all(metric, "_read"),
metric = str_remove_all(metric, "_science")
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = name,
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_"),
metric = str_remove_all(metric, "_cog"),
metric = str_remove_all(metric, "_math"),
metric = str_remove_all(metric, "_read"),
metric = str_remove_all(metric, "_science")
) %>%
ggplot()+
geom_boxplot(
aes(
x = name,
y = value,
fill = metric,
color = metric
)
)+
facet_grid(~CNT)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = name,
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_"),
metric = str_remove_all(metric, "_cog"),
metric = str_remove_all(metric, "_math"),
metric = str_remove_all(metric, "_read"),
metric = str_remove_all(metric, "_science")
) %>%
filter(
metric == "avg"
) %>%
ggplot()+
geom_boxplot(
aes(
x = name,
y = value,
fill = metric,
color = metric
)
)+
facet_grid(~CNT)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = name,
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_"),
metric = str_remove_all(metric, "_cog"),
metric = str_remove_all(metric, "_math"),
metric = str_remove_all(metric, "_read"),
metric = str_remove_all(metric, "_science")
) %>%
filter(
metric == "avg"
) %>%
ggplot()+
geom_boxplot(
aes(
x = name,
y = value,
)
)+
facet_grid(~CNT)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = name,
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_"),
metric = str_remove_all(metric, "_cog"),
metric = str_remove_all(metric, "_math"),
metric = str_remove_all(metric, "_read"),
metric = str_remove_all(metric, "_science")
) %>%
filter(
metric == "avg"
) %>%
ggplot()+
geom_boxplot(
aes(
x = name,
y = value,
fill = name
)
)+
facet_grid(~CNT)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
filter(
name %in% c("avg_cog", "med_cog")
) %>%
ggplot() +
geom_histogram(
aes(
x = value
)
)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
filter(
name %in% c("avg_cog", "med_cog")
) %>%
ggplot() +
geom_histogram(
aes(
x = value
)
) %>%
facet_grid(~CNT)
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
filter(
name %in% c("avg_cog", "med_cog")
) %>%
ggplot() +
geom_histogram(
aes(
x = value
)
) +
facet_grid(~CNT)
data %>%
group_by(CNT) %>%
count()
data %>%
group_by(CNT) %>%
count() %>%
colSums(n)
187 + 99 + 209 + 128
data %>%
group_by(CNT) %>%
count() %>%
add_row(c("TOT", 623))
data %>%
group_by(CNT) %>%
count() %>%
ungroup() %>%
add_row(c("TOT", 623))
data %>%
group_by(CNT) %>%
count()
data %>%
select(
CNT,
CNTSCHID,
starts_with('avg'),
starts_with('med')
) %>%
pivot_longer(3:10) %>%
mutate(
metric = name,
name = str_remove_all(name, "avg_"),
name = str_remove_all(name, "med_"),
metric = str_remove_all(metric, "_math"),
metric = str_remove_all(metric, "_read"),
metric = str_remove_all(metric, "_science")
)
data <- read_csv("../../data_ready/data_ready.csv") %>%
mutate(
across(
everything(),
function(x){
ifelse(is.infinite(x) == T, NA, x)
}
)
) %>%
na.omit() %>%
select(- ends_with("cog"))
read_csv("../../data_ready/data_ready.csv")
data <- #read_csv("../../data_ready/data_ready.csv") %>%
read_csv("data_ready/data_read.csv")
data <- #read_csv("../../data_ready/data_ready.csv") %>%
read_csv("/data_ready/data_read.csv")
data <- #read_csv("../../data_ready/data_ready.csv") %>%
read_csv("/data_ready/data_read.csv")
library(tidyverse)
